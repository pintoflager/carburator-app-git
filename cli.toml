help = "Commands for interacting with the git client on the client host."

# Integrated to the carburator
########################################################

# Clone
#
[command.clone]
help = "Clone repository from the given path."
platform = ["Client"]
command = "git clone {{ path }} {{ target }}"

[command.clone.args.path]
help = "Path, remote or local to the git repository"
value_is = "String"
arg_index = 1
required = true

[command.clone.args.target]
help = "Target directory on localhost where repository will be cloned to."
value_is = "String"
arg_index = 2
required = true

# Pull
#
[command.pull]
help = "Pull changes from remote repository into the local one."
platform = ["Client"]
command = "git pull {{ path }} {{ branch | default('main') }}"

[command.pull.args.path]
help = "Remote path to the repository"
value_is = "String"
arg_index = 1
required = true

[command.pull.args.branch]
help = "Remote repository branch to pull from. (defaults to 'main')"
value_is = "String"
arg_index = 2
required = false

# Push
#
[command.push]
help = "Push local changes to remote repository."
platform = ["Client"]
command = "git push {{ branch_remote | default('main') }} {{ branch_local | default('main') }}"

[command.push.args.branch_remote]
help = "Remote repository branch to push to. (defaults to 'main')"
value_is = "String"
arg_index = 1
required = false

[command.push.args.branch_local]
help = "Local repository branch to push from. (defaults to 'main')"
value_is = "String"
arg_index = 2
required = false

########################################################
